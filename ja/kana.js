const replace = (s, rules) =>
  rules.reduce((acc, [x, y]) => acc.replace(x, y), s).normalize('NFKC');

const fromKana = kana => replace(kana, [
  [/„Åã\u309A/g, 'ga'],
  [/„Åç\u309A/g, 'gi'],
  [/„Åè\u309A/g, 'gu'],
  [/„Åë\u309A/g, 'ge'],
  [/„Åì\u309A/g, 'go'],

  [/„Åã/g, 'ka'],
  [/„Åç/g, 'ki'],
  [/„Åè/g, 'ku'],
  [/„Åë/g, 'ke'],
  [/„Åì/g, 'ko'],
  [/„Åå/g, 'ca'],
  [/„Åé/g, 'ci'],
  [/„Åê/g, 'cu'],
  [/„Åí/g, 'ce'],
  [/„Åî/g, 'co'],

  [/„Åï/g, 'sa'],
  [/„Åó/g, 'si'],
  [/„Åô/g, 'su'],
  [/„Åõ/g, 'se'],
  [/„Åù/g, 'so'],
  [/„Åñ/g, 'za'],
  [/„Åò/g, 'zi'],
  [/„Åö/g, 'zu'],
  [/„Åú/g, 'ze'],
  [/„Åû/g, 'zo'],

  [/„Åü/g, 'ta'],
  [/„Å°/g, 'ti'],
  [/„Å§/g, 'tu'],
  [/„Å¶/g, 'te'],
  [/„Å®/g, 'to'],
  [/„Å†/g, 'da'],
  [/„Å¢/g, 'di'],
  [/„Å•/g, 'du'],
  [/„Åß/g, 'de'],
  [/„Å©/g, 'do'],

  [/„Å™/g, 'na'],
  [/„Å´/g, 'ni'],
  [/„Å¨/g, 'nu'],
  [/„Å≠/g, 'ne'],
  [/„ÅÆ/g, 'no'],

  [/„ÅØ/g, 'pa'],
  [/„Å≤/g, 'pi'],
  [/„Åµ/g, 'pu'],
  [/„Å∏/g, 'pe'],
  [/„Åª/g, 'po'],
  [/„Å∞/g, 'ba'],
  [/„Å≥/g, 'bi'],
  [/„Å∂/g, 'bu'],
  [/„Åπ/g, 'be'],
  [/„Åº/g, 'bo'],

  [/„Åæ/g, 'ma'],
  [/„Åø/g, 'mi'],
  [/„ÇÄ/g, 'mu'],
  [/„ÇÅ/g, 'me'],
  [/„ÇÇ/g, 'mo'],

  [/„ÇÑ/g, 'ja'],
  [/õÄÜ/g, 'ji'],
  [/„ÇÜ/g, 'ju'],
  [/õÄÅ/g, 'je'],
  [/„Çà/g, 'jo'],

  [/„Çâ/g, 'la'],
  [/„Çä/g, 'li'],
  [/„Çã/g, 'lu'],
  [/„Çå/g, 'le'],
  [/„Çç/g, 'lo'],

  [/„Çè/g, 'va'],
  [/„Çê/g, 'vi'],
  [/õÑü/g, 'vu'],
  [/„Çë/g, 've'],
  [/„Çí/g, 'vo'],

  [/„ÅÇ/g, 'a'],
  [/„ÅÑ/g, 'i'],
  [/„ÅÜ/g, 'u'],
  [/„Åà/g, 'e'],
  [/„Åä/g, 'o'],
]);

const hang = latn => replace(latn, [
  [/k(?=j?[aiueo])/g, '\u1100<HEAD>'],
  [/c(?=j?[aiueo])/g, '\u1101<HEAD>'],
  [/g(?=j?[aiueo])/g, '\u114C<HEAD>'],
  [/s(?=j?[aiueo])/g, "\u1109<HEAD>"],
  [/z(?=j?[aiueo])/g, "\u110A<HEAD>"],
  [/t(?=j?[aiueo])/g, "\u1103<HEAD>"],
  [/d(?=j?[aiueo])/g, "\u1104<HEAD>"],
  [/n(?=j?[aiueo])/g, "\u1102<HEAD>"],
  [/p(?=j?[aiueo])/g, "\u1107<HEAD>"],
  [/b(?=j?[aiueo])/g, "\u1108<HEAD>"],
  [/m(?=j?[aiueo])/g, "\u1106<HEAD>"],
  [/l(?=j?[aiueo])/g, "\u1105<HEAD>"],
  [/v(?=j?[aiueo])/g, "\u111D<HEAD>"],
  [/(?<!<HEAD>)j(?=[aiueo])/g, "\u1140<HEAD>"],
  [/(?<!<HEAD>|j)(?=[aiueo])/g, "\u110B<HEAD>"],
  [/<HEAD>/g, ""],

  [/jaj/g, "\u1164"],
  [/aj/g, "\u1162"],
  [/ej/g, "\u1166"],

  [/ja/g, "\u1163<CODA>"],
  [/ji/g, '\uD7C4<CODA>'],
  [/ju/g, '\u1172<CODA>'],
  [/je/g, '\u1167<CODA>'],
  [/jo/g, '\u116D<CODA>'],
  [/a/g, "\u1161<CODA>"],
  [/i/g, '\u1175<CODA>'],
  [/u/g, '\u116E<CODA>'],
  [/e/g, '\u1165<CODA>'],
  [/o/g, '\u1169<CODA>'],

  [/<CODA>k/g, '\u11A8'],
  [/<CODA>c/g, '\u11A9'],
  [/<CODA>g/g, '\u11BC'],
  [/<CODA>s/g, '\u11BA'],
  [/<CODA>z/g, '\u11BB'],
  [/<CODA>t/g, '\u11AE'],
  [/<CODA>d/g, '\uD7CD'],
  [/<CODA>n/g, '\u11AB'],
  [/<CODA>p/g, "\u11B8"],
  [/<CODA>b/g, "\uD7E6"],
  [/<CODA>m/g, "\u11B7"],
  [/<CODA>j/g, "\u11EB"],
  [/<CODA>l/g, "\u11AF"],
  [/<CODA>v/g, "\u11E2"],
  [/<CODA>/g, ""],

  [/k/g, '„Ñ±'],
  [/c/g, '„Ñ≤'],
  [/g/g, '„ÜÅ'],
  [/s/g, "„ÖÖ"],
  [/z/g, "„ÖÜ"],
  [/t/g, "„Ñ∑"],
  [/d/g, "„Ñ∏"],
  [/n/g, "„Ñ¥"],
  [/p/g, "„ÖÇ"],
  [/b/g, "„ÖÉ"],
  [/m/g, "„ÖÅ"],
  [/j/g, "„Öø"],
  [/l/g, "„Ñπ"],
  [/v/g, "„Ö±"],
]);

console.log(hang(process.argv[2] || 'nitpongo'))